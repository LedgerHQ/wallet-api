## overview

The Bitcoin handler allows the server to interact with Bitcoin accounts: retrieve account addresses (for WalletConnect getAccountAddresses), the extended public key (xPub), and more.

## request handlers:

### "bitcoin.getAddresses" - Get Account Addresses

Returns all addresses needed for the account (e.g. for WalletConnect getAccountAddresses). Ledger only supports the "payment" intention.

| parameter (in req.params) | required? | note                                                                 |
| ------------------------- | --------- | -------------------------------------------------------------------- |
| _accountId_               | ✅        | The ID of the Bitcoin account.                                       |
| _intentions_              | ❌        | Optional filter: only `"payment"` is supported; `"ordinal"` returns []. |

| walletHandler used     | note                                                                 |
| ---------------------- | -------------------------------------------------------------------- |
| _bitcoin.getAddresses_ | Should return an array of `{ address, publicKey?, path?, intention? }`. |

- **Returns**: A promise that resolves with an array of address entries.

### "bitcoin.getXPub" - Get Extended Public Key (xPub)

| parameter (in req.params) | required? | note                                                                 |
| ------------------------- | --------- | -------------------------------------------------------------------- |
| _accountId_               | ✅        | The ID of the Bitcoin account for which the xPub is to be retrieved. |

| walletHandler used | note                                                     |
| ------------------ | -------------------------------------------------------- |
| _bitcoin.getXPub_  | Should retrieve the xPub of a particular bitcoin account |

- Gets the xPub of a bitcoin account with _bitcoin.getXPub_ walletHandler
- **Returns**: A promise that resolves with the xPub as a string.
