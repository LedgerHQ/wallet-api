import { Callout } from "nextra/components";

## useWalletAPIServer Hook (Removed)

<Callout type="warning" emoji="⚠️">
  **This React hook has been removed from the wallet-api library as of version
  3.0.0** The `useWalletAPIServer` hook is no longer exported from
  `@ledgerhq/wallet-api-server`.
</Callout>

### Migration Guide

If you were using this hook, you have two options:

1. **Use the WalletAPIServer constructor directly** (recommended)

   Instantiate the server using the [WalletAPIServer constructor](../wallet-api-server#constructor):

   ```ts
   import { WalletAPIServer } from "@ledgerhq/wallet-api-server";

   const server = new WalletAPIServer(
     transport,
     config,
     logger,
     customHandlers,
   );
   ```

2. **Implement your own React hook** (advanced use case)

   You can create your own React hook similar to how [Ledger Live implements it](../usage-examples/within-ledger-live). This gives you full control over the server lifecycle and state management.

### Breaking Changes in v2.0.0

- Removed RxJS dependency from the server package
- Removed observable-based state management (accounts$, currencies$, etc.)
- Removed `setAccounts()` and `setCurrencies()` methods from WalletAPIServer
- Wallet handlers now accept `accountId` strings instead of Account objects
- New required wallet handlers: `account.list` and `currency.list`

For more details, see the [changelog](https://github.com/LedgerHQ/wallet-api/blob/main/packages/server/CHANGELOG.md).

### Reference Implementation

To see how Ledger Live implements server management in a React environment, check out:

- [Ledger Live's usage example](../usage-examples/within-ledger-live)
